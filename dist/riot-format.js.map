{"version":3,"sources":["../src/index.js"],"names":[],"mappings":"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","file":"riot-format.js","sourcesContent":["const slice = Array.prototype.slice;\n\n//taken from http://stevenlevithan.com/assets/misc/date.format.js\n/*\n * Date Format 1.2.3\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\n * MIT license\n *\n * Includes enhancements by Scott Trenda <scott.trenda.net>\n * and Kris Kowal <cixar.com/~kris.kowal/>\n *\n * Accepts a date, a mask, or a date and a mask.\n * Returns a formatted version of the given date.\n * The date defaults to the current date/time.\n * The mask defaults to dateFormat.masks.default.\n */\n\nvar dateFormat = function () {\n\tvar\ttoken = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZ]|\"[^\"]*\"|'[^']*'/g,\n\t\ttimezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g,\n\t\ttimezoneClip = /[^-+\\dA-Z]/g,\n\t\tpad = function (val, len) {\n\t\t\tval = String(val);\n\t\t\tlen = len || 2;\n\t\t\twhile (val.length < len) val = \"0\" + val;\n\t\t\treturn val;\n\t\t};\n\n\t// Regexes and supporting functions are cached through closure\n\treturn function (date, mask, utc) {\n\t\tvar dF = dateFormat;\n\n\t\t// You can't provide utc if you skip other args (use the \"UTC:\" mask prefix)\n\t\tif (arguments.length == 1 && Object.prototype.toString.call(date) == \"[object String]\" && !/\\d/.test(date)) {\n\t\t\tmask = date;\n\t\t\tdate = undefined;\n\t\t}\n\n\t\t// Passing date through Date applies Date.parse, if necessary\n\t\tdate = date ? new Date(date) : new Date;\n\t\tif (isNaN(date)) throw SyntaxError(\"invalid date\");\n\n\t\tmask = String(dF.masks[mask] || mask || dF.masks[\"default\"]);\n\n\t\t// Allow setting the utc argument via the mask\n\t\tif (mask.slice(0, 4) == \"UTC:\") {\n\t\t\tmask = mask.slice(4);\n\t\t\tutc = true;\n\t\t}\n\n\t\tvar\t_ = utc ? \"getUTC\" : \"get\",\n\t\t\td = date[_ + \"Date\"](),\n\t\t\tD = date[_ + \"Day\"](),\n\t\t\tm = date[_ + \"Month\"](),\n\t\t\ty = date[_ + \"FullYear\"](),\n\t\t\tH = date[_ + \"Hours\"](),\n\t\t\tM = date[_ + \"Minutes\"](),\n\t\t\ts = date[_ + \"Seconds\"](),\n\t\t\tL = date[_ + \"Milliseconds\"](),\n\t\t\to = utc ? 0 : date.getTimezoneOffset(),\n\t\t\tflags = {\n\t\t\t\td:    d,\n\t\t\t\tdd:   pad(d),\n\t\t\t\tddd:  dF.i18n.dayNames[D],\n\t\t\t\tdddd: dF.i18n.dayNames[D + 7],\n\t\t\t\tm:    m + 1,\n\t\t\t\tmm:   pad(m + 1),\n\t\t\t\tmmm:  dF.i18n.monthNames[m],\n\t\t\t\tmmmm: dF.i18n.monthNames[m + 12],\n\t\t\t\tyy:   String(y).slice(2),\n\t\t\t\tyyyy: y,\n\t\t\t\th:    H % 12 || 12,\n\t\t\t\thh:   pad(H % 12 || 12),\n\t\t\t\tH:    H,\n\t\t\t\tHH:   pad(H),\n\t\t\t\tM:    M,\n\t\t\t\tMM:   pad(M),\n\t\t\t\ts:    s,\n\t\t\t\tss:   pad(s),\n\t\t\t\tl:    pad(L, 3),\n\t\t\t\tL:    pad(L > 99 ? Math.round(L / 10) : L),\n\t\t\t\tt:    H < 12 ? \"a\"  : \"p\",\n\t\t\t\ttt:   H < 12 ? \"am\" : \"pm\",\n\t\t\t\tT:    H < 12 ? \"A\"  : \"P\",\n\t\t\t\tTT:   H < 12 ? \"AM\" : \"PM\",\n\t\t\t\tZ:    utc ? \"UTC\" : (String(date).match(timezone) || [\"\"]).pop().replace(timezoneClip, \"\"),\n\t\t\t\to:    (o > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n\t\t\t\tS:    [\"th\", \"st\", \"nd\", \"rd\"][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10]\n\t\t\t};\n\n\t\treturn mask.replace(token, function ($0) {\n\t\t\treturn $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);\n\t\t});\n\t};\n}();\n\n// Some common format strings\ndateFormat.masks = {\n\t\"default\":      \"ddd mmm dd yyyy HH:MM:ss\",\n\tshortDate:      \"m/d/yy\",\n\tmediumDate:     \"mmm d, yyyy\",\n\tlongDate:       \"mmmm d, yyyy\",\n\tfullDate:       \"dddd, mmmm d, yyyy\",\n\tshortTime:      \"h:MM TT\",\n\tmediumTime:     \"h:MM:ss TT\",\n\tlongTime:       \"h:MM:ss TT Z\",\n\tisoDate:        \"yyyy-mm-dd\",\n\tisoTime:        \"HH:MM:ss\",\n\tisoDateTime:    \"yyyy-mm-dd'T'HH:MM:ss\",\n\tisoUtcDateTime: \"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'\"\n};\n\n// Internationalization strings\ndateFormat.i18n = {\n\tdayNames: [\n\t\t\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\",\n\t\t\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"\n\t],\n\tmonthNames: [\n\t\t\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\",\n\t\t\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n\t]\n};\n\n// // For convenience...\n//\n// Date.prototype.format = function (mask, utc) {\n// \treturn dateFormat(this, mask, utc);\n// };\n\n\nclass Formatter {\n    constructor(value){\n      this.value = value;\n    }\n\n    date(pattern){\n      let value = this.value;\n      try {\n        this.value = dateFormat(value, pattern);\n      } catch (e) {\n        console.log(e);\n        this.value = null;\n      }\n      return this;\n    }\n\n    toString(){\n      //apply auto format\n      if(this.value instanceof Date && !isNaN(this.value.valueOf())){\n        return this.date('mm/dd/yyyy').toString();\n      }\n      return String(this.value);\n    }\n\n    valueOf(){\n      return this.value;\n    }\n}\n\n/**\n* format a given value in the riot tag context\n* usage:\n*   create a riot tag\n* <pre>\n*   <app>\n      <p> {format(new Date(), 'date', 'yyyy-mm-dd HH:MM:ss')} </p>\n*   </app>\n* </pre>\n* @param {any} value      the value passed in to be formatted\n* @param {string} method  the format method of Formatter\n* @return {any} the formatted result\n*/\nfunction format(value, method) {\n  let self = new Formatter(value);\n  if(method && method!='toString' && method!='valueOf'){\n    let fn = self[method];\n    if(typeof fn === 'function'){\n      let args = slice.call(arguments,2);\n      fn.apply(self, args);\n    }\n  }\n  return self;\n}\n\nmodule.exports = function (riot) {\n  if(!riot.Tag.prototype.format){\n    riot.Tag.prototype.format = format;\n  }\n};\n\nmodule.exports.Formatter = Formatter;\n"]}