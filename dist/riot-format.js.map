{"version":3,"sources":["../src/index.js"],"names":[],"mappings":"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","file":"riot-format.js","sourcesContent":["const slice = Array.prototype.slice;\n\n//taken from http://stevenlevithan.com/assets/misc/date.format.js\n/*\n * Date Format 1.2.3\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\n * MIT license\n *\n * Includes enhancements by Scott Trenda <scott.trenda.net>\n * and Kris Kowal <cixar.com/~kris.kowal/>\n *\n * Accepts a date, a mask, or a date and a mask.\n * Returns a formatted version of the given date.\n * The date defaults to the current date/time.\n * The mask defaults to dateFormat.masks.default.\n */\n\nvar dateFormat = function() {\n  var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZ]|\"[^\"]*\"|'[^']*'/g,\n    timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g,\n    timezoneClip = /[^-+\\dA-Z]/g,\n    pad = function(val, len) {\n      val = String(val);\n      len = len || 2;\n      while (val.length < len) val = \"0\" + val;\n      return val;\n    };\n\n  // Regexes and supporting functions are cached through closure\n  return function(date, mask, utc) {\n    var dF = dateFormat;\n\n    // You can't provide utc if you skip other args (use the \"UTC:\" mask prefix)\n    if (arguments.length == 1 && Object.prototype.toString.call(date) == \"[object String]\" && !/\\d/.test(date)) {\n      mask = date;\n      date = undefined;\n    }\n\n    // Passing date through Date applies Date.parse, if necessary\n    date = date ? new Date(date) : new Date;\n    if (isNaN(date)) throw SyntaxError(\"invalid date\");\n\n    mask = String(dF.masks[mask] || mask || dF.masks[\"default\"]);\n\n    // Allow setting the utc argument via the mask\n    if (mask.slice(0, 4) == \"UTC:\") {\n      mask = mask.slice(4);\n      utc = true;\n    }\n\n    var _ = utc ? \"getUTC\" : \"get\",\n      d = date[_ + \"Date\"](),\n      D = date[_ + \"Day\"](),\n      m = date[_ + \"Month\"](),\n      y = date[_ + \"FullYear\"](),\n      H = date[_ + \"Hours\"](),\n      M = date[_ + \"Minutes\"](),\n      s = date[_ + \"Seconds\"](),\n      L = date[_ + \"Milliseconds\"](),\n      o = utc ? 0 : date.getTimezoneOffset(),\n      flags = {\n        d: d,\n        dd: pad(d),\n        ddd: dF.i18n.dayNames[D],\n        dddd: dF.i18n.dayNames[D + 7],\n        m: m + 1,\n        mm: pad(m + 1),\n        mmm: dF.i18n.monthNames[m],\n        mmmm: dF.i18n.monthNames[m + 12],\n        yy: String(y).slice(2),\n        yyyy: y,\n        h: H % 12 || 12,\n        hh: pad(H % 12 || 12),\n        H: H,\n        HH: pad(H),\n        M: M,\n        MM: pad(M),\n        s: s,\n        ss: pad(s),\n        l: pad(L, 3),\n        L: pad(L > 99 ? Math.round(L / 10) : L),\n        t: H < 12 ? \"a\" : \"p\",\n        tt: H < 12 ? \"am\" : \"pm\",\n        T: H < 12 ? \"A\" : \"P\",\n        TT: H < 12 ? \"AM\" : \"PM\",\n        Z: utc ? \"UTC\" : (String(date).match(timezone) || [\"\"]).pop().replace(timezoneClip, \"\"),\n        o: (o > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n        S: [\"th\", \"st\", \"nd\", \"rd\"][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10]\n      };\n\n    return mask.replace(token, function($0) {\n      return $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);\n    });\n  };\n}();\n\n// Some common format strings\ndateFormat.masks = {\n  \"default\": \"ddd mmm dd yyyy HH:MM:ss\",\n  shortDate: \"m/d/yy\",\n  mediumDate: \"mmm d, yyyy\",\n  longDate: \"mmmm d, yyyy\",\n  fullDate: \"dddd, mmmm d, yyyy\",\n  shortTime: \"h:MM TT\",\n  mediumTime: \"h:MM:ss TT\",\n  longTime: \"h:MM:ss TT Z\",\n  isoDate: \"yyyy-mm-dd\",\n  isoTime: \"HH:MM:ss\",\n  isoDateTime: \"yyyy-mm-dd'T'HH:MM:ss\",\n  isoUtcDateTime: \"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'\"\n};\n\n// Internationalization strings\ndateFormat.i18n = {\n  dayNames: [\n    \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\",\n    \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"\n  ],\n  monthNames: [\n    \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\",\n    \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n  ]\n};\n\n// // For convenience...\n//\n// Date.prototype.format = function (mask, utc) {\n// \treturn dateFormat(this, mask, utc);\n// };\n\n\nclass Formatter {\n  constructor(value) {\n    this.value = value;\n  }\n\n  date(pattern) {\n    let value = this.value;\n    try {\n      this.value = dateFormat(value, pattern);\n    } catch (e) {\n      console.log(e);\n      this.value = null;\n    }\n    return this;\n  }\n\n  toString() {\n    //apply auto format\n    if (this.value instanceof Date && !isNaN(this.value.valueOf())) {\n      return this.date('mm/dd/yyyy').toString();\n    }\n    return String(this.value);\n  }\n\n  valueOf() {\n    return this.value;\n  }\n}\n\n/**\n* format a given value in the riot tag context\n* usage:\n*   create a riot tag\n* <pre>\n*   <app>\n      <p> {format(new Date(), 'date', 'yyyy-mm-dd HH:MM:ss')} </p>\n*   </app>\n* </pre>\n* @param {any} value      the value passed in to be formatted\n* @param {string} method  the format method of Formatter\n* @return {any} the formatted result\n*/\nfunction format(value, method) {\n  let self = new Formatter(value);\n  if (typeof method == 'string' && method != 'toString' && method != 'valueOf') {\n    let fn = self[method];\n    if (typeof fn === 'function') {\n      let args = slice.call(arguments, 2);\n      fn.apply(self, args);\n    }\n  }\n  return self;\n}\n\nfunction hook(riot) {\n  if (!riot.Tag.prototype.format) {\n    riot.Tag.prototype.format = format;\n  }\n}\n\nhook.define = function(name, fn) {\n  if (typeof name == 'string' && typeof fn == 'function') {\n    Formatter.prototype[name] = function() {\n      var args = [this.valueOf()].concat(arguments);\n      this.value = fn.apply(null, args);\n      return this;\n    };\n  }\n}\n\nmodule.exports = hook;\n"]}